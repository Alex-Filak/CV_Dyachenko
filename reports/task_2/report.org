#+LANGUAGE: ru
#+LATEX_HEADER: \usepackage[english,main=russian]{babel}

#+LATEX_HEADER: \usepackage{fontspec}
#+LATEX_HEADER: \usepackage{polyglossia}
#+LATEX_HEADER: \setdefaultlanguage{russian}
#+LATEX_HEADER: \setotherlanguage{english}
#+LATEX_HEADER: \setmainfont{CMU Serif}
#+LATEX_HEADER: \setsansfont{CMU Sans Serif}
#+LATEX_HEADER: \setmonofont{CMU Typewriter Text}

#+LATEX_HEADER: \usepackage{svg}
#+LATEX_HEADER: \usepackage{xcolor}
#+LATEX_HEADER: \usepackage{caption}
#+LATEX_HEADER: \newcommand{\incsvg}[2][]{\begin{center}\includesvg[width=\textwidth]{#2}\captionof{figure}{#1}\end{center}}

#+LATEX_HEADER: \usepackage{titlesec}
#+LATEX_HEADER: \titleformat{\section}{\normalfont\large\bfseries}{\thesection}{1em}{}

#+LATEX_HEADER: \usepackage{multicol}
#+LATEX_HEADER: \setlength{\columnsep}{1cm}
#+LATEX_HEADER: \setlength{\parindent}{0pt}

#+LATEX_CLASS: extarticle
#+LATEX_CLASS_OPTIONS: [a4paper,14pt]


#+LATEX_HEADER: \usepackage[left=1.2cm,right=1.2cm,top=1cm,bottom=2cm]{geometry}
#+LATEX_HEADER: \linespread{1}

#+LATEX_HEADER: \usepackage{hyperref}
#+LATEX_HEADER: \usepackage{amsmath}
#+LATEX_HEADER: \usepackage{mathtools}

#+LATEX_HEADER: \usepackage{array}
#+LATEX_HEADER: \usepackage{float}
#+LATEX_HEADER: \restylefloat{table}
#+LATEX_HEADER: \renewcommand{\arraystretch}{1.7}

#+OPTIONS: toc:nil 

#+begin_center
МФТИ\\

\vspace{6cm}



\begin{large}
\textbf{Отечет по практическим заданиям} \\
\textbf{1b и 2b}


\vspace{3cm}

\textbf{Филак Александр}

\end{large}
\vspace{9cm}


\vspace{2cm}

Долгопрудный \\
2025
\pagebreak
#+end_center

* ОТЧЁТ ПО ПРАКТИЧЕСКИМ ЗАДАНИЯМ 2 И 4

** Введение

В рамках двух практических заданий были изучены и реализованы методы работы с облаками точек, включая визуализацию с использованием цветовой информации и обработку скалярных полей. Задание 2 было посвящено различным способам назначения цветов точкам и их визуализации в 2D и 3D. Задание 4 охватывало работу со скалярными полями: их создание, преобразование, фильтрацию и визуализацию. Оба задания демонстрируют важные аспекты предобработки и анализа трёхмерных данных.

** Теоретическая часть

*** Облако точек

Облако точек — это набор точек в трёхмерном пространстве, каждая из которых имеет координаты (X, Y, Z). В дополнение к координатам точки могут содержать дополнительную информацию: цвет (RGB), интенсивность, нормали или произвольные скалярные поля. Облака точек широко используются в компьютерном зрении, робототехнике, картографии и 3D-моделировании.

*** Цветовое представление RGB

Цвет в модели RGB представляется тремя компонентами: красным (R), зелёным (G) и синим (B). Каждый компонент может принимать значения от 0 до 1 (нормализованная форма) или от 0 до 255 (целочисленная форма). Комбинация этих компонентов создаёт итоговый цвет точки.

*** Скалярные поля

Скалярное поле — это функция, сопоставляющая каждой точке пространства некоторое скалярное значение. В контексте облаков точек скалярное поле обычно представлено как дополнительный столбец данных, связанный с каждой точкой. Примеры скалярных полей: высота, температура, интенсивность отражения лидара, расстояние до центра и т.д.

** Задание 2: Работа с цветами в облаках точек

*** Постановка задачи

Цель задания — освоить методы визуализации облаков точек с цветовой информацией, научиться назначать цвета точкам на основе их координат и других параметров, сравнить возможности статичной (Matplotlib) и интерактивной (Plotly) визуализации.

*** Ход выполнения

**** 1. Генерация облака точек

Было создано равномерно распределённое облако из 1000 точек в кубе [0, 1]^3.

**** 2. Назначение цветов по координатам

Цвет каждой точке был назначен на основе её координат:
- Красный компонент = координата X
- Зелёный компонент = координата Y
- Синий компонент = координата Z

#+CAPTION: 2D-визуализация в Matplotlib (RGB = XYZ)
[[./img/task2_vis_matplotlib.jpg]]

**** 3. 3D-визуализация в Plotly

Создана интерактивная 3D-визуализация, позволяющая вращать сцену, приближать и удалять объект.

#+CAPTION: 3D-визуализация в Plotly
[[./img/task2_visualization_plotly.png]]

**** 4. Альтернативная схема раскраски

Реализована схема раскраски на основе расстояния от точки до центра куба (0.5, 0.5, 0.5). Точки, близкие к центру, окрашены в холодные тона (синий), а удалённые — в тёплые (красный/жёлтый).

#+CAPTION: Альтернативная схема раскраски (расстояние до центра)
[[./img/task2_alt_col_scheme.jpg]]

#+CAPTION: 3D-визуализация альтернативной схемы в Plotly
[[./img/task2_alt_col_scheme_plotly.png]]

*** Анализ результатов

1. *Связь цвета и координат*: Метод RGB=XYZ интуитивно понятен и позволяет визуально оценить распределение точек в пространстве.

2. *Статичная vs интерактивная визуализация*: Matplotlib подходит для быстрых 2D-просмотров, Plotly — для детального исследования 3D-структур благодаря возможности вращения и масштабирования.

3. *Альтернативные схемы*: Раскраска по расстоянию до центра эффективно выделяет пространственную структуру облака, особенно в 3D-представлении.

** Задание 4: Работа со скалярными полями

*** Постановка задачи

Цель задания — освоить методы создания, преобразования и анализа скалярных полей, связанных с облаками точек, включая операции сглаживания, вычисления градиента, фильтрации и визуализации.

*** Ход выполнения

Работа проводилась с облаком точек "Рождественский медведь" (40 000 точек после субдискретизации).

#+CAPTION: Исходное облако точек "Рождественский медведь"
[[./img/task_4_init_vis.png]]

**** 1-3. Базовые операции со скалярными полями

Созданы два скалярных поля:
- *const_field*: постоянное поле со значением 10.0
- *height*: поле высоты (координата Z)

Продемонстрированы операции:
- Умножение поля на число (const_field × 3 = 30.0)
- Сложение с числом (30.0 - 5 = 25.0)

Результат: постоянное поле осталось константным после операций.

**** 4. Гауссово сглаживание

Применено гауссово сглаживание к полю зашумлённой высоты (*noised_height*). Для постоянного поля сглаживание не даёт эффекта.

#+CAPTION: Поле высоты без сглаживания
[[./img/task4_without_gauss_smoth.png]]

#+CAPTION: Поле высоты после гауссова сглаживания
[[./img/task4_with_gauss_smooth.png]]

**** 5. Вычисление градиента

Вычислен градиент поля высоты. Для постоянного поля градиент равен нулю.

#+CAPTION: Поле высоты
[[./img/task4_high_field_without_grad.png]]

#+CAPTION: Градиент поля высоты (почти постоянный)
[[./img/task4_high_field_with_grad.png]]

**** 6. Сглаживание скользящим средним

Применён фильтр скользящего среднего к зашумлённому полю высоты.

#+CAPTION: Зашумлённая высота без фильтра
[[./img/task4_ma_noised_height_without_filter.png]]

#+CAPTION: Зашумлённая высота после фильтра скользящего среднего
[[./img/task4_ma_noised_height_with_filter.png]]

**** 7. Преобразование скалярного поля в RGB

Скалярные поля преобразованы в цвета с использованием цветовой карты *viridis*.

**** 8. Статистический анализ

Вычислены статистические параметры полей:

| Поле         | Среднее   | Ст. отклонение | Минимум     | Максимум    | Медиана  |
|--------------|-----------|----------------|-------------|-------------|----------|
| const_field  | 25.000000 | 0.00000        | 25.000000   | 25.000000   | 25.0000  |
| height_field | -6.420886 | 111.32608      | -214.142593 | 214.158005  | -7.8196  |

**** 9-10. Нормализация и интерполяция

Поля нормализованы в диапазон [0, 1]. Реализована интерполяция пропущенных значений (NaN) с использованием линейной интерполяции.

**** 11. Фильтрация по значению поля

Выполнена фильтрация точек по значениям скалярных полей:
- const_field: все точки (значение 25.0 в диапазоне [0, 26])
- height: точки с высотой от -100 до 100

После фильтрации получено подмножество точек.

**** 12. Использование скалярного поля как координаты

Продемонстрирована возможность замены координаты Z на значение скалярного поля.

#+CAPTION: Использование скалярного поля как координаты Z
[[./img/task4_use_scalar_as_z.png]]

**** 13. Удаление скалярного поля

Продемонстрирована операция удаления скалярного поля из облака точек.

*** Анализ результатов

1. *Операции с полями*: Базовые операции (сложение, умножение) работают корректно, что подтверждает гибкость работы со скалярными полями.

2. *Сглаживание*: Гауссов фильтр и скользящее среднее эффективно уменьшают шум в данных, что особенно важно для зашумлённых измерений.

3. *Градиент*: Вычисление градиента позволяет выделять области с быстрым изменением значений поля, что полезно для анализа рельефа или других пространственных характеристик.

4. *Визуализация*: Преобразование скалярных полей в цвета с помощью цветовых карт делает данные более наглядными и интерпретируемыми.

** Ответы на контрольные вопросы

1. *Почему для RGB значения используются числа от 0 до 1 или от 0 до 255?*
   Диапазоны 0-1 и 0-255 являются стандартными представлениями интенсивности цвета. Первый удобен для вычислений с плавающей точкой, второй — для хранения и отображения.

2. *Как можно задать цвет точек на основе скалярной величины?*
   Скалярное значение нормализуется в диапазон [0, 1], затем применяется цветовая карта (colormap), которая сопоставляет каждому значению цвет RGB.

3. *Чем отличается статичная визуализация (Matplotlib) от интерактивной (Plotly)?*
   Matplotlib создаёт статические изображения, Plotly — интерактивные веб-визуализации с возможностью вращения, масштабирования, выделения областей.

4. *Как выбрать подходящую цветовую карту?*
   Для последовательных данных (высота, температура) подходят плавные карты (viridis, plasma), для категориальных данных — дискретные карты (tab10, Set3).

5. *Что произойдёт, если не нормализовать значения при генерации цветов?*
   Цвета будут некорректными: значения за пределами [0, 1] будут обрезаны, что приведёт к потере информации и искажению визуализации.

** Выводы

1. *Задание 2*: Освоены методы визуализации облаков точек с цветовой информацией. Интерактивная визуализация в Plotly оказалась значительно удобнее для исследования 3D-структур по сравнению со статичной в Matplotlib.

2. *Задание 4*: Освоены основные операции работы со скалярными полями: создание, преобразование, сглаживание, вычисление градиента, фильтрация. Эти операции являются фундаментальными для анализа пространственных данных.

** Заключение

В ходе выполнения заданий 2 и 4 были успешно освоены ключевые аспекты работы с облаками точек: визуализация с использованием цветовой информации и обработка скалярных полей. Реализованные методы и алгоритмы образуют базовый инструментарий для работы с трёхмерными данными, который может быть расширен и адаптирован для решения конкретных прикладных задач в компьютерном зрении, робототехнике, геодезии и других областях.
