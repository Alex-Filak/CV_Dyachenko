# Лабораторные работы по компьютерному зрению: обработка облаков точек

**Автор:** Филак Александр (МФТИ)  
**Курс:** Компьютерное зрение (проф. Дьяченко)  
**Год:** 2025

## Обзор репозитория

Данный репозиторий содержит решения практических заданий по курсу компьютерного зрения, посвящённых обработке и анализу облаков точек. Работы охватывают различные аспекты работы с трёхмерными данными: от базовой предобработки до применения нейронных сетей для классификации объектов.

## Структура проекта

```
├── src/                    # Исходные коды решений
│   ├── task_1/            # Задания 1: Базовые операции с облаками точек
│   ├── task_2/            # Задания 2: Работа с цветами и скалярными полями
│   ├── task_3/            # Задания 3: Подготовка данных для машинного обучения
│   └── task_4/            # Задание 4: Классификация 3D-объектов с помощью PointNet
├── reports/               # Отчёты по выполненным работам
│   ├── task_1/           # PDF, LaTeX и Org-отчёты для заданий 1
│   ├── task_2/           # Отчёты для заданий 2
│   ├── task_3/           # Отчёты для заданий 3
│   └── task_4/           # Отчёты для задания 4
├── lib/                  # Вспомогательные библиотеки
│   ├── point_cloud.py    # Библиотека для работы с облаками точек
│   └── ...              # Дополнительные модули
├── data/                 # Данные для экспериментов (при наличии)
├── Dockerfile           # Конфигурация Docker-окружения
└── README.md           # Данный файл
```

## Содержание заданий

### Task 1: Базовые операции с облаками точек
- **Zad1b.pdf** – Субдискретизация облаков точек различными методами (случайная, воксельная, FPS)
- **Zad2b.pdf** – Выделение областей в облаках точек по геометрическим критериям
- **ПР1Задани.pdf** – Формирование данных в формате NumPy

**Основные результаты:** Реализованы алгоритмы субдискретизации и пространственной фильтрации, проведено сравнение методов по скорости и сохранению геометрии.

### Task 2: Работа с цветами и скалярными полями
- **Задание_1_Работа_с_цветовой_информацией_в_облаках_точек_в_CloudCompare.pdf** – Изучение инструментов CloudCompare
- **Задание_2_Работа_с_цветами_в_облаках_точек_с_использованием_Python.pdf** – Визуализация облаков точек с цветовой информацией
- **Задание_3_Изучение_работы_со_скалярными_полями_в_CloudCompare.pdf** – Работа со скалярными полями в CloudCompare
- **Задание_4_Работа_со_скалярными_полями_в_Python_NumPy.pdf** – Обработка скалярных полей в Python

**Основные результаты:** Освоены методы визуализации в Matplotlib и Plotly, реализованы операции со скалярными полями (сглаживание, вычисление градиента, фильтрация).

### Task 3: Подготовка данных для машинного обучения
- **Задание 1.pdf** – Формирование данных на основе датасета Semantic3D
- **Задание 2.pdf** – Формирование данных на основе датасета S3DIS

**Основные результаты:** Подготовлены нормализованные массивы данных для обучения моделей семантической сегментации, проанализированы особенности outdoor- и indoor-датасетов.

### Task 4: Классификация 3D-объектов
- **Практическое занятие 5.pdf** – Классификация объектов с использованием архитектуры PointNet и датасета ModelNet

**Основные результаты:** Реализована и обучена модель PointNet для классификации 3D-объектов, достигнута точность 80% на тестовой выборке ModelNet10.

## Требования и установка

### Предварительные требования
- Python 3.8+
- Docker или Podman (для локального запуска)
- Jupyter Lab

### Установка с использованием Docker/Podman

1. Соберите Docker-образ:
```bash
podman build -t point-cloud-img .
```

2. Запустите контейнер:
```bash
podman run -d \
  --name point-cloud \
  -p 8888:8888 \
  -v "$(pwd)":/home/jovyan/work \
  -e JUPYTER_ENABLE_LAB=yes \
  point-cloud-img
```

3. Откройте Jupyter Lab в браузере по адресу `http://localhost:8888`

### Альтернативная установка (без Docker)

Установите необходимые библиотеки:
```bash
pip install numpy matplotlib plotly open3d torch torchvision scipy pandas jupyterlab
```

## Запуск заданий

### Task 4 (Google Colab)
Задание 4 выполнено в Google Colab. Для запуска откройте ноутбук `task_4.ipynb` в Colab и выполните все ячейки.

### Tasks 1-3 (локально или в контейнере)

1. Запустите Jupyter Lab:
```bash
jupyter lab
```

2. Откройте соответствующий ноутбук:
   - `src/task_1/task_1.ipynb` – для заданий 1
   - `src/task_2/task_2.ipynb` – для заданий 2  
   - `src/task_3/task_3.ipynb` – для заданий 3

3. Выполните ячейки последовательно

## Используемые библиотеки

- **NumPy** – численные вычисления и работа с массивами
- **Matplotlib** – статичная визуализация
- **Plotly** – интерактивная 3D-визуализация
- **Open3D** – работа с 3D-данными
- **PyTorch** – реализация нейронных сетей
- **SciPy** – научные вычисления и фильтрация
- **Pandas** – анализ данных и статистика

## Ключевые результаты

1. **Сравнение методов субдискретизации** – FPS лучше сохраняет геометрию, случайная выборка быстрее, воксельная сетка представляет компромисс.

2. **Визуализация цветовой информации** – Plotly обеспечивает лучшую интерактивность для исследования 3D-структур по сравнению с Matplotlib.

3. **Обработка скалярных полей** – Реализованы методы сглаживания, вычисления градиента и фильтрации, критически важные для анализа пространственных данных.

4. **Подготовка данных для ML** – Сформированы нормализованные массивы для датасетов Semantic3D и S3DIS, готовые для обучения моделей семантической сегментации.

5. **Классификация 3D-объектов** – Модель PointNet достигла точности 80% на датасете ModelNet10, подтвердив эффективность архитектуры для работы с неупорядоченными точечными данными.

## Отчёты

Полные отчёты по каждому заданию доступны в форматах:
- **PDF** – для печати и просмотра
- **LaTeX** – исходные коды для компиляции
- **Org-mode** – структурированные документы для Emacs

Отчёты содержат:
- Теоретическое обоснование методов
- Описание реализации
- Результаты экспериментов
- Ответы на контрольные вопросы
- Выводы и анализ

## Особенности реализации

1. **Модульная архитектура** – Библиотека `point_cloud.py` предоставляет единый интерфейс для работы с облаками точек во всех заданиях.

2. **Воспроизводимость** – Docker-контейнер обеспечивает идентичное окружение для всех пользователей.

3. **Документированность** – Код снабжён комментариями, отчёты подробно описывают каждый этап работы.

4. **Практическая направленность** – Решения ориентированы на решение реальных задач компьютерного зрения.

## Дополнительные материалы

В папке `data/` при наличии размещены:
- Образцы облаков точек для тестирования
- Предобработанные датасеты
- Модели нейронных сетей

